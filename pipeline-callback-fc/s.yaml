edition: 3.0.0
name: pipeline-callback-fc
access: "default"

vars:
  region: ${env.FC_REGION}
  serviceName: ${env.FC_NAME}
  memorySize: ${env.FC_MEMORY_SIZE || 128}
  timeout: ${env.FC_TIMEOUT || 30}
  internetAccess: ${env.FC_INTERNET_ACCESS || true}

resources:
  function:
    component: fc3
    props:
      region: ${vars.region}
      service:
        name: ${vars.serviceName}
      function:
        name: pipeline-callback-function
        description: 'Python function for pipeline callback'
        runtime: python3.9
        codeUri: './code'
        memorySize: ${vars.memorySize}
        timeout: ${vars.timeout}
        internetAccess: ${vars.internetAccess}
